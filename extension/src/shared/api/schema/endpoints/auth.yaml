schemas:
  Session:
    type: object
    required:
      - user
      - proxyId
    properties:
      user:
        type: object
        required:
          - authId
        properties:
          id:
            type: string
            example: 'cmhvy8rrt0000cscjpm8jvbht'
          authId:
            type: string
            example: '9015539273676022'
          createdAt:
            type: string
            format: date-time
            example: '2025-11-12T12:01:17.466Z'
          updatedAt:
            type: string
            format: date-time
            example: '2025-11-12T12:01:17.466Z'
      proxyId:
        type: string
        example: '2fecf42c-e95d-43df-8528-491e855e0de4'

  AuthRequest:
    type: object
    required:
      - authId
    properties:
      authId:
        type: string
        example: '9015539273676022'
      proxyId:
        type: string
        example: '2fecf42c-e95d-43df-8528-491e855e0de4'

  AuthError:
    type: object
    properties:
      statusCode:
        type: integer
        example: 401
      message:
        type: string
        example: 'Неверный ключ авторизации'

register:
  summary: Register new user and get authId
  requestBody:
    required: false
    content:
      application/json: {}
  responses:
    '201':
      description: Registration successful
      content:
        application/json:
          schema:
            $ref: '#/schemas/Session'

login:
  summary: Login by authId
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '#/schemas/AuthRequest'
  responses:
    '200':
      description: Login successful
      content:
        application/json:
          schema:
            $ref: '#/schemas/Session'
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/schemas/AuthError'
